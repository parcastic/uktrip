<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UK Grand Tour</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    
    <!-- GSAP for Animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        body { 
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            color: #1e293b;
        }
        /* Hide default cursor on non-touch devices */
        @media (pointer: fine) {
            body, a, button {
                cursor: none;
            }
        }
        h1, h2, h3 { font-family: 'Playfair Display', serif; }
        
        .hero {
            height: 100vh;
            position: relative;
            overflow: hidden;
        }
        #hero-video {
            position: absolute;
            top: 50%;
            left: 50%;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            z-index: -100;
            transform: translateX(-50%) translateY(-50%);
            object-fit: cover;
        }

        .accordion-content {
            display: grid;
            grid-template-rows: 0fr;
            transition: grid-template-rows 0.5s ease-in-out;
        }
        .accordion-content > div {
            overflow: hidden;
        }
        .accordion-item.open .accordion-content {
            grid-template-rows: 1fr;
        }

        /* Custom Cursor */
        .cursor-dot, .cursor-outline {
            pointer-events: none;
            position: fixed;
            top: 0;
            left: 0;
            border-radius: 50%;
            opacity: 0;
            z-index: 9999;
        }
        @media (pointer: coarse) {
            .cursor-dot, .cursor-outline { display: none; }
        }
        .cursor-dot {
            width: 8px;
            height: 8px;
            background-color: #0891b2;
        }
        .cursor-outline {
            width: 40px;
            height: 40px;
            background-color: rgba(8, 145, 178, 0.2);
        }
        body:hover .cursor-dot, body:hover .cursor-outline { opacity: 1; }

        /* Parallax Section */
        .parallax-container {
            height: 70vh;
            overflow: hidden;
            position: relative;
        }
        .parallax-img {
            width: 100%;
            height: 130%; /* Start larger for zoom effect */
            background-image: url('https://images.pexels.com/photos/302769/pexels-photo-302769.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2');
            background-size: cover;
            background-position: center;
            position: absolute;
            top: -15%;
        }
        .parallax-overlay {
            position: absolute;
            inset: 0;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
        }

        .material-card {
            transition: box-shadow 0.3s ease-in-out;
        }
        .material-card:hover {
            box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);
        }
        .chart-container { position: relative; margin: auto; height: 350px; max-height: 400px; width: 100%; max-width: 400px; }
        
        /* Hamburger Menu */
        .mobile-nav {
            position: fixed;
            top: 0;
            left: -100%;
            width: 75%;
            max-width: 300px;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            transition: left 0.3s ease-in-out;
            z-index: 999;
        }
        .mobile-nav.open {
            left: 0;
        }
        
        .location-image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

    </style>
</head>
<body class="bg-slate-50">
    <div class="cursor-dot"></div>
    <div class="cursor-outline"></div>

    <!-- Navigation -->
    <nav id="navbar" class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-md">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Hamburger Button -->
                <div class="md:hidden">
                    <button id="hamburger-btn" class="inline-flex items-center justify-center p-2 rounded-md text-slate-600 hover:text-white hover:bg-cyan-700 focus:outline-none">
                        <svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                        </svg>
                    </button>
                </div>
                <div class="flex-shrink-0"><span class="font-bold text-xl text-slate-700">UK Grand Tour</span></div>
                <!-- Desktop Menu -->
                <div class="hidden md:block">
                    <div id="desktop-nav-links" class="ml-10 flex items-baseline space-x-4">
                        <a href="#map" class="text-gray-600 hover:text-cyan-700 px-3 py-2 rounded-md text-sm font-medium">Map</a>
                        <a href="#itinerary" class="text-gray-600 hover:text-cyan-700 px-3 py-2 rounded-md text-sm font-medium">Itinerary</a>
                        <a href="#events" class="text-gray-600 hover:text-cyan-700 px-3 py-2 rounded-md text-sm font-medium">Events</a>
                        <a href="#budget" class="text-gray-600 hover:text-cyan-700 px-3 py-2 rounded-md text-sm font-medium">Budget</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="mobile-nav shadow-2xl">
        <div class="p-5">
            <a href="#map" class="block text-gray-600 hover:text-cyan-700 px-3 py-2 rounded-md text-base font-medium">Map</a>
            <a href="#itinerary" class="block text-gray-600 hover:text-cyan-700 px-3 py-2 rounded-md text-base font-medium">Itinerary</a>
            <a href="#events" class="block text-gray-600 hover:text-cyan-700 px-3 py-2 rounded-md text-base font-medium">Events</a>
            <a href="#budget" class="block text-gray-600 hover:text-cyan-700 px-3 py-2 rounded-md text-base font-medium">Budget</a>
        </div>
    </div>

    <!-- Hero Section -->
    <header class="hero flex flex-col items-center justify-center text-white">
        <video autoplay loop muted playsinline id="hero-video">
            <source src="https://videos.pexels.com/video-files/1721294/1721294-hd_1920_1080_25fps.mp4" type="video/mp4">
        </video>
        <div class="absolute inset-0 bg-black/50"></div>
        <div class="relative text-center z-10 p-4">
            <p class="text-sm text-slate-300 mb-2">Designed by Parth</p>
            <h1 id="main-title" class="text-5xl md:text-7xl font-bold">UK Grand Tour</h1>
            <p class="mt-4 max-w-3xl mx-auto text-lg md:text-xl text-slate-200">An Immersive 15-Day Expedition | July 19th - August 2nd</p>
        </div>
        <div class="absolute bottom-10 text-white z-10">
             <svg class="w-8 h-8 animate-bounce" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg>
        </div>
    </header>

    <main class="bg-slate-50">
        <div class="max-w-7xl mx-auto p-4 md:p-8 space-y-24">

            <!-- Parallax Section -->
            <section class="parallax-container rounded-xl shadow-2xl">
                <div class="parallax-img"></div>
                <div class="parallax-overlay">
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center max-w-6xl mx-auto">
                        <div>
                            <h3 class="text-4xl md:text-6xl font-bold">~20</h3>
                            <p class="text-lg">Flight Hours</p>
                        </div>
                        <div>
                            <h3 class="text-4xl md:text-6xl font-bold">~2400</h3>
                            <p class="text-lg">KMs Travelled</p>
                        </div>
                        <div>
                            <h3 class="text-4xl md:text-6xl font-bold">15+</h3>
                            <p class="text-lg">Places Covered</p>
                        </div>
                        <div>
                            <h3 class="text-4xl md:text-6xl font-bold">8</h3>
                            <p class="text-lg">Cities Visited</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Map Section -->
            <section id="map" class="scroll-mt-16">
                <h2 class="text-4xl font-bold text-slate-800 mb-8 text-center section-title">Expedition Route</h2>
                <p class="text-center text-slate-600 mb-12 max-w-3xl mx-auto">An overview of our grand tour across the United Kingdom, from the streets of London to the Scottish Highlands and back.</p>
                <div class="bg-white rounded-xl shadow-2xl p-4 material-card aspect-w-16 aspect-h-9">
                    <iframe 
                        src="https://www.google.com/maps/d/embed?mid=1X_G9T2Y8o9z9C8F7r6k5J4a3B2c1D_A&ehbc=2E312F" 
                        width="100%" 
                        height="600"
                        class="rounded-lg"
                        style="border:0;" 
                        allowfullscreen="" 
                        loading="lazy" 
                        referrerpolicy="no-referrer-when-downgrade">
                    </iframe>
                </div>
            </section>

            <!-- Itinerary Section -->
            <section id="itinerary" class="scroll-mt-16">
                <h2 class="text-4xl font-bold text-slate-800 mb-8 text-center section-title">Day-by-Day Expedition</h2>
                <p class="text-center text-slate-600 mb-12 max-w-3xl mx-auto">This is your complete 15-day plan. Click any day to expand and see the detailed schedule and a photo of the location.</p>
                <div id="accordion-container" class="space-y-4"></div>
            </section>

             <!-- Events Section -->
            <section id="events" class="scroll-mt-16">
                <h2 class="text-4xl font-bold text-slate-800 mb-8 text-center section-title">Events & Culture</h2>
                <p class="text-center text-slate-600 mb-12 max-w-3xl mx-auto">Your trip coincides with some fantastic cultural events. Here are a few resources to find out what's on. Book tickets far in advance where possible!</p>
                <div id="events-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
            </section>

            <!-- Budget Section -->
            <section id="budget" class="scroll-mt-16">
                <h2 class="text-4xl font-bold text-slate-800 mb-8 text-center section-title">Expedition Budget Breakdown</h2>
                <p class="text-center text-slate-600 mb-12 max-w-3xl mx-auto">This chart visualizes the estimated mid-range budget. Hover over segments for details and use the button to toggle between per-person and group totals.</p>
                <div class="bg-white rounded-xl shadow-2xl p-6 md:p-8 material-card">
                    <div class="chart-container"><canvas id="budgetChart"></canvas></div>
                    <div class="text-center mt-6">
                        <button id="toggleBudgetBtn" class="bg-cyan-700 text-white font-bold py-2 px-6 rounded-lg hover:bg-cyan-800 transition-all shadow-md hover:shadow-lg">Show Total Group Budget</button>
                        <p id="budgetText" class="mt-4 text-lg font-semibold text-slate-700"></p>
                    </div>
                </div>
            </section>

            <!-- Conversion Utilities Section -->
            <section id="conversion" class="scroll-mt-16">
                <h2 class="text-4xl font-bold text-slate-800 mb-8 text-center section-title">Conversion Utilities</h2>
                <p class="text-center text-slate-600 mb-12 max-w-3xl mx-auto">Quick tools to help you convert currency and distance during your trip planning.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                    <div class="bg-white rounded-xl shadow-2xl p-6 md:p-8 material-card">
                        <h3 class="font-bold text-2xl mb-4 text-cyan-800 text-center">Currency Converter</h3>
                        <div class="space-y-4">
                            <div>
                                <label for="gbp-input" class="block text-sm font-medium text-slate-700">Pounds (£)</label>
                                <input type="number" id="gbp-input" placeholder="Enter amount in GBP" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500">
                            </div>
                            <div>
                                <label for="inr-input" class="block text-sm font-medium text-slate-700">Rupees (₹)</label>
                                <input type="number" id="inr-input" placeholder="Enter amount in INR" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500">
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl shadow-2xl p-6 md:p-8 material-card">
                        <h3 class="font-bold text-2xl mb-4 text-cyan-800 text-center">Distance Converter</h3>
                         <div class="space-y-4">
                            <div>
                                <label for="miles-input" class="block text-sm font-medium text-slate-700">Miles (mi)</label>
                                <input type="number" id="miles-input" placeholder="Enter distance in miles" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500">
                            </div>
                            <div>
                                <label for="km-input" class="block text-sm font-medium text-slate-700">Kilometers (km)</label>
                                <input type="number" id="km-input" placeholder="Enter distance in kilometers" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500">
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>
    
    <footer class="bg-slate-800 text-white"><div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 text-center text-sm"><p>&copy; 2025 The Albion & Caledonia Expedition. Itinerary designed by Parth.</p></div></footer>

    <script>
    document.addEventListener('DOMContentLoaded', function () {
        // Data for the itinerary, updated from the PDF
        const itineraryData = [
            { day: 1, date: "Jul 19", dayOfWeek: "Saturday", title: 'Arrive in London, visit Windsor Castle and Richmond Park.', location: 'London', temp: '23°C', activities: ['Check into hotel near Heathrow & store luggage.', 'Explore Windsor Castle.', 'Evening walk in Richmond Park (time permitting).', 'Dinner at a traditional pub.'] },
            { day: 2, date: "Jul 20", dayOfWeek: "Sunday", title: 'Explore the historic landmarks of central London.', location: 'London', temp: '23°C', activities: ['Transfer to central London hotel.', 'Visit Buckingham Palace & St. James\'s Park.', 'Walk by the Houses of Parliament & Big Ben.', 'Explore the Tower of London & Tower Bridge.', 'See St. Paul\'s Cathedral.'] },
            { day: 3, date: "Jul 21", dayOfWeek: "Monday", title: 'A day trip to the historic city of Oxford and the scenic Cotswolds.', location: 'Cotswolds', temp: '22°C', activities: ['Take a walking tour of Oxford University.', 'Drive through the picturesque Cotswolds villages.', 'Enjoy the countryside scenery.'] },
            { day: 4, date: "Jul 22", dayOfWeek: "Tuesday", title: 'Travel to Scotland and begin exploring its capital, Edinburgh.', location: 'Edinburgh', temp: '19°C', activities: ['Travel from London to Edinburgh (flight or train).', 'Check into accommodation.', 'Walk the historic Royal Mile.', 'Visit Edinburgh Castle.'] },
            { day: 5, date: "Jul 23", dayOfWeek: "Wednesday", title: 'Discover more of Edinburgh\'s attractions, from hills to museums.', location: 'Edinburgh', temp: '19°C', activities: ['Hike up Arthur\'s Seat for panoramic views.', 'Visit the Palace of Holyroodhouse.', 'Stroll along the Water of Leith Walkway.', 'Explore the National Museum of Scotland.', 'Experience the atmosphere of the Grassmarket.'] },
            { day: 6, date: "Jul 24", dayOfWeek: "Thursday", title: 'Journey north into the Highlands towards Inverness.', location: 'Inverness', temp: '17°C', activities: ['Pick up rental car in Edinburgh.', 'Drive north, stopping at the charming town of Pitlochry.', 'Optional: Hike Ben A\'an for stunning views.', 'Arrive in Inverness and explore the city.'] },
            { day: 7, date: "Jul 25", dayOfWeek: "Friday", title: 'Search for monsters and castles around Loch Ness.', location: 'Inverness', temp: '17°C', activities: ['Explore the shores of Loch Ness.', 'Visit the ruins of Urquhart Castle.', 'See the villages of Drumnadrochit or Fort Augustus.', 'Look for dolphins at Chanonry Point.', 'Walk along the River Ness.'] },
            { day: 8, date: "Jul 26", dayOfWeek: "Saturday", title: 'Travel to the dramatic landscapes of the Isle of Skye.', location: 'Isle of Skye', temp: '15°C', activities: ['Drive from Inverness to the Isle of Skye.', 'Hike the iconic Old Man of Storr trail.', 'Explore the colourful harbour town of Portree.'] },
            { day: 9, date: "Jul 27", dayOfWeek: "Sunday", title: 'Explore the mystical and otherworldly landscapes of Skye.', location: 'Isle of Skye', temp: '15°C', activities: ['Drive the stunning Quiraing loop.', 'Wander through the magical Fairy Glen.', 'Enjoy a whisky tasting at a local distillery.'] },
            { day: 10, date: "Jul 28", dayOfWeek: "Monday", title: 'Journey from Skye to the heart of the Highlands in Glencoe.', location: 'Glencoe', temp: '16°C', activities: ['Scenic drive through Glen Shiel.', 'See the Glenfinnan Viaduct (Harry Potter bridge).', 'Optional hike to Steall Falls.', 'Arrive in the Fort William/Glencoe area.'] },
            { day: 11, date: "Jul 29", dayOfWeek: "Tuesday", title: 'Immerse yourself in the dramatic scenery of Glencoe.', location: 'Glencoe', temp: '16°C', activities: ['Hike the Pap of Glencoe or the Lost Valley.', 'Take a scenic drive down Glen Etive.', 'Soak in the epic mountain views.'] },
            { day: 12, date: "Jul 30", dayOfWeek: "Wednesday", title: 'A final scenic drive before returning to Edinburgh.', location: 'Edinburgh', temp: '19°C', activities: ['Enjoy a final drive through Glencoe valley.', 'Drive back to Edinburgh.', 'Last chance for any remaining exploration in the city.'] },
            { day: 13, date: "Jul 31", dayOfWeek: "Thursday", title: 'Return to London for the final leg of the journey.', location: 'London', temp: '23°C', activities: ['Travel from Edinburgh back to London.', 'Check into hotel and relax.', 'Free evening to explore.'] },
            { day: 14, date: "Aug 1", dayOfWeek: "Friday", title: 'A free day in London for shopping or visiting remaining sights.', location: 'London', temp: '23°C', activities: ['Enjoy a full day exploring any remaining London attractions.', 'Perfect for souvenir shopping or revisiting a favourite spot.'] },
            { day: 15, date: "Aug 2", dayOfWeek: "Saturday", title: 'Depart from London.', location: 'London', temp: '23°C', activities: ['Head to the airport for your flight home.'] }
        ];
        
        // Image URLs for each location
        const locationImages = {
            'London': [
                'https://images.pexels.com/photos/460672/pexels-photo-460672.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
                'https://images.pexels.com/photos/672532/pexels-photo-672532.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
                'https://images.pexels.com/photos/1519192/pexels-photo-1519192.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
                'https://images.pexels.com/photos/532263/pexels-photo-532263.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'
            ],
            'Cotswolds': [
                'https://images.pexels.com/photos/1098460/pexels-photo-1098460.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
                'https://images.pexels.com/photos/340996/pexels-photo-340996.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
                'https://images.pexels.com/photos/280230/pexels-photo-280230.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'
            ],
            'Edinburgh': [
                'https://images.pexels.com/photos/2193300/pexels-photo-2193300.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
                'https://images.pexels.com/photos/5630133/pexels-photo-5630133.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
                'https://images.pexels.com/photos/1694002/pexels-photo-1694002.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'
            ],
            'Inverness': [
                'https://images.pexels.com/photos/5092482/pexels-photo-5092482.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
                'https://images.pexels.com/photos/11124996/pexels-photo-11124996.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
                'https://images.pexels.com/photos/699466/pexels-photo-699466.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'
            ],
            'Isle of Skye': [
                'https://images.pexels.com/photos/236230/pexels-photo-236230.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
                'https://images.pexels.com/photos/1483053/pexels-photo-1483053.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
                'https://images.pexels.com/photos/2586073/pexels-photo-2586073.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'
            ],
            'Glencoe': [
                'https://images.pexels.com/photos/2382868/pexels-photo-2382868.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
                'https://images.pexels.com/photos/3624531/pexels-photo-3624531.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
                'https://images.pexels.com/photos/1057085/pexels-photo-1057085.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'
            ]
        };

        // Data for local events with reference links
        const localEvents = [
            { city: 'London', event: 'What\'s On in London', description: 'Check the official visitor guide for events, theatre, exhibitions, and festivals happening across the city.', link: 'https://www.visitlondon.com/things-to-do/whats-on' },
            { city: 'Edinburgh', event: 'Events in Edinburgh', description: 'Discover what\'s happening in Edinburgh, from the famous festivals to local gigs and markets.', link: 'https://edinburgh.org/whats-on/' },
            { city: 'Scotland', event: 'Visit Scotland Events', description: 'A guide to major events happening all across Scotland throughout the year.', link: 'https://www.visitscotland.com/see-do/events/' },
            { city: 'UK Wide', event: 'National Theatre & Musicals', description: 'Book tickets for world-class theatre, from long-running musicals in the West End to touring productions.', link: 'https://www.londontheatre.co.uk/' },
            { city: 'UK Wide', event: 'National Trust', description: 'Discover historic houses, gardens, and monuments. Check for special events during your visit.', link: 'https://www.nationaltrust.org.uk/visit/whats-on' },
            { city: 'UK Wide', event: 'English Heritage', description: 'Explore ancient castles, abbeys, and historic sites. See their events calendar for special programming.', link: 'https://www.english-heritage.org.uk/visit/whats-on/' }
        ];

        const accordionContainer = document.getElementById('accordion-container');
        itineraryData.forEach((item) => {
            const accItem = document.createElement('div');
            accItem.className = 'accordion-item bg-white rounded-xl shadow-lg material-card overflow-hidden';
            accItem.dataset.location = item.location;
            accItem.innerHTML = `
                <button class="accordion-header w-full text-left p-6 flex justify-between items-center">
                    <div class="flex-grow">
                        <p class="text-cyan-700 font-bold text-2xl">Day ${item.day}</p>
                        <p class="text-sm text-slate-500">${item.dayOfWeek}, ${item.date}</p>
                        <p class="font-semibold text-slate-800 text-xl mt-1">${item.title}</p>
                    </div>
                    <div class="bg-slate-100 px-4 py-2 rounded-lg text-slate-700 font-semibold text-right flex-shrink-0 ml-4">
                        ${item.location}<br><span class="text-xs font-normal">${item.temp} Avg</span>
                    </div>
                    <svg class="w-6 h-6 transform transition-transform text-cyan-700 flex-shrink-0 ml-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                </button>
                <div class="accordion-content">
                    <div class="p-6 border-t grid grid-cols-1 md:grid-cols-2 gap-6 items-start">
                        <div>
                            <h3 class="font-bold text-lg mb-4 text-cyan-800">Key Activities</h3>
                            <ul class="space-y-3 list-disc list-inside text-slate-700">
                                ${item.activities.map(activity => `<li>${activity}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="location-image-container mt-4 md:mt-0 rounded-lg overflow-hidden h-64 bg-slate-200 flex items-center justify-center">
                           <span class="text-slate-500">Click to load image</span>
                        </div>
                    </div>
                </div>
            `;
            accordionContainer.appendChild(accItem);
        });

        const eventsContainer = document.getElementById('events-container');
        localEvents.forEach(event => {
            const card = document.createElement('div');
            card.className = 'bg-white rounded-lg shadow-lg p-6 material-card flex flex-col';
            card.innerHTML = `
                <h3 class="font-bold text-xl mb-2 text-cyan-800">${event.city}</h3>
                <p class="text-slate-700 font-semibold">${event.event}</p>
                <p class="text-slate-600 text-sm flex-grow">${event.description}</p>
                <a href="${event.link}" target="_blank" rel="noopener noreferrer" class="inline-block mt-4 text-sm text-blue-600 font-bold hover:underline">Find Out More &rarr;</a>
            `;
            eventsContainer.appendChild(card);
        });
        
        // GSAP Animations
        gsap.registerPlugin(ScrollTrigger);
        gsap.from(".hero h1, .hero p", { duration: 1, y: 30, opacity: 0, stagger: 0.2, ease: "power3.out" });
        
        gsap.to(".parallax-img", {
            scrollTrigger: {
                trigger: ".parallax-container",
                start: "top bottom",
                end: "bottom top",
                scrub: true
            },
            scale: 1,
            y: 0
        });

        document.querySelectorAll('section').forEach(section => {
            gsap.from(section.querySelectorAll('.section-title, .material-card'), {
                scrollTrigger: { trigger: section, start: "top 80%" },
                duration: 1, y: 50, opacity: 0, stagger: 0.1, ease: "power3.out"
            });
        });

        // Accordion & Image Loading Logic
        document.querySelectorAll('.accordion-header').forEach(header => {
            header.addEventListener('click', () => {
                const item = header.parentElement;
                const wasOpen = item.classList.contains('open');
                
                // This simple version closes all others.
                // document.querySelectorAll('.accordion-item.open').forEach(openItem => {
                //    openItem.classList.remove('open');
                // });

                item.classList.toggle('open');
                const icon = header.querySelector('svg');
                gsap.to(icon, { rotation: item.classList.contains('open') ? 180 : 0, duration: 0.4, ease: "power2.inOut" });

                // Image loading logic
                if (item.classList.contains('open') && !wasOpen) {
                    const imageContainer = item.querySelector('.location-image-container');
                    if (imageContainer.querySelector('img') === null) { // Load image only once
                        const location = item.dataset.location;
                        const images = locationImages[location];
                        if (images && images.length > 0) {
                            const randomImageUrl = images[Math.floor(Math.random() * images.length)];
                            const img = document.createElement('img');
                            img.src = randomImageUrl;
                            img.alt = `Tourist view of ${location}`;
                            img.className = "opacity-0"; // Start invisible for fade-in
                            imageContainer.innerHTML = ''; // Clear placeholder text
                            imageContainer.appendChild(img);
                            gsap.to(img, { opacity: 1, duration: 0.8, ease: 'power3.out' });
                        } else {
                            imageContainer.innerHTML = '<span class="text-slate-500">Image not available</span>';
                        }
                    }
                }
            });
        });

        // Custom Cursor
        const cursorDot = document.querySelector(".cursor-dot");
        const cursorOutline = document.querySelector(".cursor-outline");
        gsap.set(cursorDot, {xPercent: -50, yPercent: -50});
        gsap.set(cursorOutline, {xPercent: -50, yPercent: -50});
        
        window.addEventListener("mousemove", function (e) {
            gsap.to(cursorDot, {duration: 0.2, x: e.clientX, y: e.clientY});
            gsap.to(cursorOutline, {duration: 0.6, x: e.clientX, y: e.clientY, ease: "power2.out"});
        });

        document.querySelectorAll("a, button").forEach(el => {
            el.addEventListener("mouseenter", () => gsap.to(cursorOutline, {scale: 1.5, duration: 0.3}));
            el.addEventListener("mouseleave", () => gsap.to(cursorOutline, {scale: 1, duration: 0.3}));
        });

        // Budget Chart
        const budgetData = {
            perPerson: {
                labels: ['Accommodation', 'Food', 'Attractions', 'Miscellaneous', 'Fuel'],
                values: [1280, 850, 316, 425, 51]
            },
            group: {
                labels: ['Accommodation', 'Food', 'Attractions', 'Miscellaneous', 'Fuel'],
                values: [6400, 4250, 1580, 2125, 255]
            }
        };
        const formatCurrency = (amount, currency) => new Intl.NumberFormat(currency === 'GBP' ? 'en-GB' : 'en-IN', { style: 'currency', currency: currency, minimumFractionDigits: 0 }).format(amount);
        const budgetText = document.getElementById('budgetText');
        let currentView = 'perPerson';
        const updateBudgetText = () => {
            const totalGbp = budgetData[currentView].values.reduce((a, b) => a + b, 0);
            const totalInr = totalGbp * 105.5;
            if (currentView === 'perPerson') {
                budgetText.innerHTML = `Total Per Person: <strong class="text-red-600">${formatCurrency(totalGbp, 'GBP')}</strong> / ${formatCurrency(totalInr, 'INR')}`;
            } else {
                budgetText.innerHTML = `Total For Group: <strong class="text-red-600">${formatCurrency(totalGbp, 'GBP')}</strong> / ${formatCurrency(totalInr, 'INR')}`;
            }
        };
        const ctx = document.getElementById('budgetChart').getContext('2d');
        const budgetChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: budgetData.perPerson.labels,
                datasets: [{
                    label: 'Cost in £',
                    data: budgetData.perPerson.values,
                    backgroundColor: ['#0e7490', '#15803d', '#be123c', '#a16207', '#4a5568'],
                    borderColor: '#f8fafc',
                    borderWidth: 4
                }]
            },
            options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom' } } }
        });
        const toggleBtn = document.getElementById('toggleBudgetBtn');
        toggleBtn.addEventListener('click', () => {
            currentView = (currentView === 'perPerson') ? 'group' : 'perPerson';
            budgetChart.data.datasets[0].data = budgetData[currentView].values;
            toggleBtn.textContent = (currentView === 'perPerson') ? 'Show Total Group Budget' : 'Show Per Person Budget';
            updateBudgetText();
            budgetChart.update();
        });
        updateBudgetText();

        // Conversion Utilities
        const gbpInput = document.getElementById('gbp-input');
        const inrInput = document.getElementById('inr-input');
        const milesInput = document.getElementById('miles-input');
        const kmInput = document.getElementById('km-input');
        const GBP_TO_INR_RATE = 105.5;
        const MILES_TO_KM_RATE = 1.60934;

        gbpInput.addEventListener('input', () => {
            const gbpValue = parseFloat(gbpInput.value);
            inrInput.value = !isNaN(gbpValue) ? (gbpValue * GBP_TO_INR_RATE).toFixed(2) : '';
        });
        inrInput.addEventListener('input', () => {
            const inrValue = parseFloat(inrInput.value);
            gbpInput.value = !isNaN(inrValue) ? (inrValue / GBP_TO_INR_RATE).toFixed(2) : '';
        });
        milesInput.addEventListener('input', () => {
            const milesValue = parseFloat(milesInput.value);
            kmInput.value = !isNaN(milesValue) ? (milesValue * MILES_TO_KM_RATE).toFixed(2) : '';
        });
        kmInput.addEventListener('input', () => {
            const kmValue = parseFloat(kmInput.value);
            milesInput.value = !isNaN(kmValue) ? (kmValue / MILES_TO_KM_RATE).toFixed(2) : '';
        });

        // Hamburger Menu Logic
        const hamburgerBtn = document.getElementById('hamburger-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        hamburgerBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('open');
        });
        // Close menu when a link is clicked
        mobileMenu.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.remove('open');
            });
        });

        // Dynamic Title
        const mainTitle = document.getElementById('main-title');
        const today = new Date();
        const tripStart = new Date('2025-07-19');
        const diffTime = tripStart - today;
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        
        if (diffDays > 0) {
            const newTitle = `UK Grand Tour: ${diffDays} days to go`;
            mainTitle.textContent = newTitle;
            document.title = newTitle;
        } else {
             mainTitle.textContent = "UK Grand Tour: Let the adventure begin!";
             document.title = "UK Grand Tour";
        }
    });
    </script>
</body>
</html>
